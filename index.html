<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Atm√≥sfera 1¬∫ ESO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { font-size: 18px; line-height: 1.8; }
        h1 { font-size: 48px !important; }
        h2 { font-size: 36px !important; }
        h3 { font-size: 28px !important; }
        h4 { font-size: 24px !important; }
        
        .option-card {
            transition: all 0.3s;
            cursor: pointer;
        }
        .option-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .option-card.correct {
            border: 4px solid #10b981 !important;
            background: #d1fae5 !important;
            animation: bounce 0.5s;
        }
        .option-card.incorrect {
            border: 4px solid #ef4444 !important;
            background: #fee2e2 !important;
            animation: shake 0.5s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        img {
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-cyan-50 to-sky-100 min-h-screen">
    <div id="app"></div>

    <script>
        // IMPORTANTE: Cambia esta ruta por la de tu GitHub
        const IMG_PATH = "./imagenes/"; // O usa: "https://raw.githubusercontent.com/TU-USUARIO/TU-REPO/main/imagenes/"

        const state = {
            currentView: 'blocks',
            selectedBlock: null,
            selectedLevel: null,
            completedLevels: JSON.parse(localStorage.getItem('atmosfera-progress') || '{}'),
            showResults: {}
        };

        const blocks = {
            1: { 
                title: "ORIGEN DE LA ATM√ìSFERA", 
                icon: "üåã", 
                color: "from-orange-500 to-red-500",
                levels: {
                    "1.1": "Atm√≥sfera primitiva",
                    "1.2": "Formaci√≥n oc√©anos",
                    "1.3": "Aparici√≥n ox√≠geno",
                    "1.4": "Atm√≥sfera actual"
                }
            },
            2: { 
                title: "COMPOSICI√ìN DEL AIRE", 
                icon: "üí®", 
                color: "from-blue-500 to-cyan-500",
                levels: {
                    "2.1": "Nitr√≥geno (78%)",
                    "2.2": "Ox√≠geno (21%)",
                    "2.3": "Otros gases",
                    "2.4": "Part√≠culas en el aire"
                }
            },
            3: { 
                title: "CAPAS DE LA ATM√ìSFERA", 
                icon: "üåç", 
                color: "from-purple-500 to-pink-500",
                levels: {
                    "3.1": "Troposfera",
                    "3.2": "Estratosfera",
                    "3.3": "Mesosfera",
                    "3.4": "Termosfera y Exosfera"
                }
            },
            4: { 
                title: "FUNCIONES DE LA ATM√ìSFERA", 
                icon: "üõ°Ô∏è", 
                color: "from-green-500 to-emerald-500",
                levels: {
                    "4.1": "Efecto invernadero",
                    "4.2": "Capa de ozono",
                    "4.3": "Protecci√≥n meteoritos",
                    "4.4": "Contaminaci√≥n"
                }
            }
        };

        const content = {
            "1-1.1": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-orange-600">üåã Atm√≥sfera Primitiva</h3>
                    <img src="${IMG_PATH}volcan-primitivo.jpg" alt="Volcanes primitivos" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-orange-100 p-8 rounded-2xl mb-6 border-4 border-orange-300">
                        <p class="text-2xl mb-6"><strong>Hace 4.600 millones de a√±os</strong> la Tierra no ten√≠a atm√≥sfera como la de ahora.</p>
                        
                        <h4 class="text-2xl font-bold mb-4 text-orange-700">Los volcanes crearon la atm√≥sfera:</h4>
                        <div class="space-y-4 text-xl">
                            <p>üåã Los <strong>volcanes</strong> expulsaban gases constantemente</p>
                            <p>üí® Estos gases formaron la primera atm√≥sfera</p>
                            <p>‚ò†Ô∏è Era <strong>t√≥xica</strong> para nosotros</p>
                            <p>üî• Hac√≠a mucho <strong>calor</strong></p>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-100 p-8 rounded-2xl border-4 border-yellow-300">
                        <h4 class="text-2xl font-bold mb-4">¬øQu√© gases hab√≠a?</h4>
                        <div class="grid grid-cols-2 gap-4 text-xl">
                            <div class="bg-white p-4 rounded-xl">üíß Vapor de agua (H‚ÇÇO)</div>
                            <div class="bg-white p-4 rounded-xl">ü´ß Di√≥xido de carbono (CO‚ÇÇ)</div>
                            <div class="bg-white p-4 rounded-xl">üí® Metano (CH‚ÇÑ)</div>
                            <div class="bg-white p-4 rounded-xl">üß™ Amon√≠aco (NH‚ÇÉ)</div>
                        </div>
                        <p class="mt-6 text-2xl font-bold text-red-600">‚ùå NO hab√≠a ox√≠geno (O‚ÇÇ)</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© crearon los volcanes?",
                        options: [
                            { text: "La primera atm√≥sfera", correct: true },
                            { text: "Los oc√©anos", correct: false },
                            { text: "Las monta√±as", correct: false },
                            { text: "Los continentes", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "La atm√≥sfera primitiva ten√≠a ox√≠geno",
                        correct: false
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øHace cu√°ntos millones de a√±os se form√≥ la Tierra?",
                        options: [
                            { text: "1.000 millones", correct: false },
                            { text: "2.500 millones", correct: false },
                            { text: "4.600 millones", correct: true },
                            { text: "10.000 millones", correct: false }
                        ]
                    }
                ]
            },
            "1-1.2": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-blue-600">üåä Se Formaron los Oc√©anos</h3>
                    <img src="${IMG_PATH}oceano-lluvia.jpg" alt="Formaci√≥n de oc√©anos" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-blue-100 p-8 rounded-2xl mb-6 border-4 border-blue-300">
                        <p class="text-2xl mb-6"><strong>Hace 3.800 millones de a√±os</strong> la Tierra se enfri√≥.</p>
                        
                        <img src="${IMG_PATH}ciclo-agua.jpg" alt="Ciclo del agua" class="w-full max-w-xl mx-auto mb-6 rounded-2xl">
                        
                        <h4 class="text-2xl font-bold mb-4 text-blue-700">¬øQu√© pas√≥?</h4>
                        <div class="space-y-6">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl"><strong>1.</strong> El vapor de agua se enfri√≥ ‚ùÑÔ∏è</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl"><strong>2.</strong> Comenz√≥ a llover durante millones de a√±os üåßÔ∏è</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl"><strong>3.</strong> El agua se acumul√≥ en los huecos üíß</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl"><strong>4.</strong> Se formaron los primeros oc√©anos üåä</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-100 p-8 rounded-2xl border-4 border-green-300">
                        <p class="text-2xl">üí° <strong>Importante:</strong> Los oc√©anos fueron necesarios para que apareciera la vida.</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øHace cu√°ntos millones de a√±os se formaron los oc√©anos?",
                        options: [
                            { text: "1.000 millones", correct: false },
                            { text: "3.800 millones", correct: true },
                            { text: "4.600 millones", correct: false },
                            { text: "2.500 millones", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "El vapor de agua se condens√≥ y form√≥ lluvia",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© ocurri√≥ con el agua al llover?",
                        options: [
                            { text: "Desapareci√≥", correct: false },
                            { text: "Se evapor√≥ toda", correct: false },
                            { text: "Se acumul√≥ formando oc√©anos", correct: true },
                            { text: "Se congel√≥", correct: false }
                        ]
                    }
                ]
            },
            "1-1.3": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-green-600">ü¶† Aparece el Ox√≠geno</h3>
                    <img src="${IMG_PATH}cianobacterias.jpg" alt="Cianobacterias" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-green-100 p-8 rounded-2xl mb-6 border-4 border-green-300">
                        <p class="text-2xl mb-6"><strong>Hace 2.500 millones de a√±os</strong> aparecieron las primeras formas de vida.</p>
                        
                        <h4 class="text-3xl font-bold mb-6 text-green-700">ü¶† Las Cianobacterias</h4>
                        <div class="bg-white p-8 rounded-xl mb-6">
                            <p class="text-2xl mb-4">Fueron las <strong>primeras</strong> en producir ox√≠geno.</p>
                            <p class="text-2xl mb-4">Hac√≠an la <strong>fotos√≠ntesis</strong>:</p>
                            <div class="bg-green-50 p-6 rounded-xl text-center">
                                <p class="text-3xl font-bold">CO‚ÇÇ + H‚ÇÇO + ‚òÄÔ∏è ‚Üí O‚ÇÇ + Glucosa</p>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6 text-xl">
                            <div class="bg-blue-50 p-6 rounded-xl border-4 border-blue-200">
                                <p class="text-2xl font-bold mb-3">‚òÄÔ∏è Durante el d√≠a</p>
                                <p>Produc√≠an ox√≠geno (O‚ÇÇ)</p>
                            </div>
                            <div class="bg-orange-50 p-6 rounded-xl border-4 border-orange-200">
                                <p class="text-2xl font-bold mb-3">üåô Durante la noche</p>
                                <p>Consum√≠an ox√≠geno</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-red-100 p-8 rounded-2xl border-4 border-red-300">
                        <p class="text-2xl">‚ö†Ô∏è <strong>Curiosidad:</strong> Al principio, el ox√≠geno era <strong>veneno</strong> para muchos seres vivos!</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© seres vivos produjeron el primer ox√≠geno?",
                        options: [
                            { text: "Los dinosaurios", correct: false },
                            { text: "Las cianobacterias", correct: true },
                            { text: "Los peces", correct: false },
                            { text: "Los √°rboles", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "Las cianobacterias hac√≠an la fotos√≠ntesis",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© produc√≠an las cianobacterias con la fotos√≠ntesis?",
                        options: [
                            { text: "Di√≥xido de carbono", correct: false },
                            { text: "Ox√≠geno", correct: true },
                            { text: "Nitr√≥geno", correct: false },
                            { text: "Metano", correct: false }
                        ]
                    }
                ]
            },
            "1-1.4": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-sky-600">üå§Ô∏è Atm√≥sfera Actual</h3>
                    <img src="${IMG_PATH}atmosfera-actual.jpg" alt="Atm√≥sfera actual" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-sky-100 p-8 rounded-2xl mb-6 border-4 border-sky-300">
                        <p class="text-2xl mb-6"><strong>Hace 500 millones de a√±os</strong> la atm√≥sfera alcanz√≥ su composici√≥n actual.</p>
                        
                        <img src="${IMG_PATH}composicion-aire.jpg" alt="Composici√≥n del aire" class="w-full max-w-xl mx-auto mb-6 rounded-2xl">
                        
                        <h4 class="text-2xl font-bold mb-4">Composici√≥n actual:</h4>
                        <div class="space-y-4">
                            <div class="bg-blue-200 p-6 rounded-xl text-center">
                                <p class="text-4xl font-bold">78% Nitr√≥geno (N‚ÇÇ)</p>
                            </div>
                            <div class="bg-red-200 p-6 rounded-xl text-center">
                                <p class="text-4xl font-bold">21% Ox√≠geno (O‚ÇÇ)</p>
                            </div>
                            <div class="bg-gray-200 p-6 rounded-xl text-center">
                                <p class="text-4xl font-bold">1% Otros gases</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-purple-100 p-8 rounded-2xl border-4 border-purple-300">
                        <img src="${IMG_PATH}agujero-ozono.jpg" alt="Capa de ozono" class="w-full max-w-md mx-auto mb-6 rounded-2xl">
                        <h4 class="text-2xl font-bold mb-3">La capa de ozono (O‚ÇÉ):</h4>
                        <p class="text-xl">Se form√≥ en la <strong>estratosfera</strong> gracias al ox√≠geno. Protege la vida de la radiaci√≥n ultravioleta del Sol.</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© porcentaje de nitr√≥geno tiene la atm√≥sfera actual?",
                        options: [
                            { text: "21%", correct: false },
                            { text: "50%", correct: false },
                            { text: "78%", correct: true },
                            { text: "1%", correct: false }
                        ]
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© porcentaje de ox√≠geno tiene?",
                        options: [
                            { text: "78%", correct: false },
                            { text: "21%", correct: true },
                            { text: "1%", correct: false },
                            { text: "50%", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "La capa de ozono est√° en la estratosfera",
                        correct: true
                    }
                ]
            },
            "2-2.1": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-blue-600">üí® Nitr√≥geno - El Gas M√°s Abundante</h3>
                    <img src="${IMG_PATH}composicion-aire.jpg" alt="Composici√≥n del aire" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-blue-100 p-8 rounded-2xl mb-6 border-4 border-blue-300">
                        <div class="text-center mb-8">
                            <p class="text-8xl font-bold text-blue-600">78%</p>
                            <p class="text-3xl font-bold">del aire es nitr√≥geno (N‚ÇÇ)</p>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">‚úÖ</p>
                                <p class="text-xl font-bold mb-2">Est√° en todos lados</p>
                                <p class="text-lg">Es el gas m√°s abundante</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">üò¥</p>
                                <p class="text-xl font-bold mb-2">Es inerte</p>
                                <p class="text-lg">Casi no reacciona con nada</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">üö´</p>
                                <p class="text-xl font-bold mb-2">No se respira</p>
                                <p class="text-lg">No lo usamos al respirar</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">üå±</p>
                                <p class="text-xl font-bold mb-2">Para las prote√≠nas</p>
                                <p class="text-lg">Las plantas lo necesitan</p>
                            </div>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© porcentaje del aire es nitr√≥geno?",
                        options: [
                            { text: "21%", correct: false },
                            { text: "50%", correct: false },
                            { text: "78%", correct: true },
                            { text: "1%", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "El nitr√≥geno es el gas m√°s abundante del aire",
                        correct: true
                    },
                    {
                        type: "true-false",
                        q: "Respiramos el nitr√≥geno del aire",
                        correct: false
                    }
                ]
            },
            "2-2.2": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-red-600">ü´Å Ox√≠geno - El Gas de la Vida</h3>
                    <img src="${IMG_PATH}composicion-aire.jpg" alt="Composici√≥n del aire" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-red-100 p-8 rounded-2xl mb-6 border-4 border-red-300">
                        <div class="text-center mb-8">
                            <p class="text-8xl font-bold text-red-600">21%</p>
                            <p class="text-3xl font-bold">del aire es ox√≠geno (O‚ÇÇ)</p>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">ü´Å</p>
                                <p class="text-xl font-bold mb-2">Para respirar</p>
                                <p class="text-lg">Es esencial para la vida</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">üî•</p>
                                <p class="text-xl font-bold mb-2">Para la combusti√≥n</p>
                                <p class="text-lg">Permite que arda el fuego</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">üå±</p>
                                <p class="text-xl font-bold mb-2">Lo producen plantas</p>
                                <p class="text-lg">En la fotos√≠ntesis</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-3xl mb-3">‚ö°</p>
                                <p class="text-xl font-bold mb-2">Muy reactivo</p>
                                <p class="text-lg">Se combina f√°cilmente</p>
                            </div>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© porcentaje de ox√≠geno hay en el aire?",
                        options: [
                            { text: "78%", correct: false },
                            { text: "21%", correct: true },
                            { text: "1%", correct: false },
                            { text: "50%", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "El ox√≠geno es necesario para la respiraci√≥n",
                        correct: true
                    },
                    {
                        type: "true-false",
                        q: "Las plantas producen ox√≠geno en la fotos√≠ntesis",
                        correct: true
                    }
                ]
            },
            "2-2.3": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-gray-600">üå´Ô∏è Otros Gases (1%)</h3>
                    <img src="${IMG_PATH}composicion-aire.jpg" alt="Composici√≥n del aire" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-gray-100 p-8 rounded-2xl mb-6 border-4 border-gray-300">
                        <h4 class="text-2xl font-bold mb-6">El 1% restante incluye:</h4>
                        
                        <div class="space-y-4">
                            <div class="bg-white p-6 rounded-xl border-l-8 border-purple-500">
                                <p class="text-2xl font-bold mb-2">Arg√≥n (Ar) - 0,93%</p>
                                <p class="text-lg">Gas inerte, no reacciona con nada</p>
                            </div>
                            
                            <div class="bg-white p-6 rounded-xl border-l-8 border-green-500">
                                <p class="text-2xl font-bold mb-2">Di√≥xido de carbono (CO‚ÇÇ) - 0,04%</p>
                                <p class="text-lg">Necesario para las plantas (fotos√≠ntesis)</p>
                                <p class="text-lg">üå°Ô∏è Gas de efecto invernadero</p>
                            </div>
                            
                            <div class="bg-white p-6 rounded-xl border-l-8 border-blue-500">
                                <p class="text-2xl font-bold mb-2">Vapor de agua (H‚ÇÇO) - Variable</p>
                                <p class="text-lg">Forma las nubes y la lluvia</p>
                            </div>
                            
                            <div class="bg-white p-6 rounded-xl border-l-8 border-yellow-500">
                                <p class="text-2xl font-bold mb-2">Ozono (O‚ÇÉ), Ne√≥n, Helio...</p>
                                <p class="text-lg">En cantidades muy peque√±as</p>
                            </div>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© gas es el m√°s abundante del 1% restante?",
                        options: [
                            { text: "CO‚ÇÇ", correct: false },
                            { text: "Arg√≥n", correct: true },
                            { text: "Ozono", correct: false },
                            { text: "Helio", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "El CO‚ÇÇ es necesario para la fotos√≠ntesis",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© gas forma las nubes?",
                        options: [
                            { text: "Nitr√≥geno", correct: false },
                            { text: "Ox√≠geno", correct: false },
                            { text: "Vapor de agua", correct: true },
                            { text: "Arg√≥n", correct: false }
                        ]
                    }
                ]
            },
            "2-2.4": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-orange-600">üå´Ô∏è Part√≠culas en el Aire</h3>
                    <img src="${IMG_PATH}particulas-aire.jpg" alt="Part√≠culas en el aire" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-orange-100 p-8 rounded-2xl mb-6 border-4 border-orange-300">
                        <p class="text-2xl mb-6">Adem√°s de gases, el aire contiene <strong>part√≠culas s√≥lidas y l√≠quidas</strong> muy peque√±as.</p>
                        
                        <div class="space-y-4">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl font-bold mb-2">üí® Polen</p>
                                <p class="text-lg">De las plantas, causa alergias</p>
                            </div>
                            
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl font-bold mb-2">üè≠ Humo</p>
                                <p class="text-lg">De f√°bricas y veh√≠culos</p>
                            </div>
                            
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl font-bold mb-2">üßÇ Sal marina</p>
                                <p class="text-lg">Del mar, llevada por el viento</p>
                            </div>
                            
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl font-bold mb-2">üåã Polvo y cenizas</p>
                                <p class="text-lg">De volcanes y erosi√≥n</p>
                            </div>
                            
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-2xl font-bold mb-2">ü¶† Microorganismos</p>
                                <p class="text-lg">Bacterias y esporas</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-red-100 p-8 rounded-2xl border-4 border-red-300">
                        <p class="text-2xl">‚ö†Ô∏è Algunas part√≠culas pueden ser <strong>perjudiciales</strong> para la salud, especialmente en ciudades contaminadas.</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© tipo de part√≠culas hay en el aire?",
                        options: [
                            { text: "Solo gases", correct: false },
                            { text: "S√≥lidas y l√≠quidas", correct: true },
                            { text: "Solo l√≠quidas", correct: false },
                            { text: "Ninguna", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "El polen es una part√≠cula que est√° en el aire",
                        correct: true
                    },
                    {
                        type: "true-false",
                        q: "Todas las part√≠culas del aire son beneficiosas",
                        correct: false
                    }
                ]
            },
            "3-3.1": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-blue-600">‚òÅÔ∏è Troposfera - Donde Vivimos</h3>
                    <img src="${IMG_PATH}capas-atmosfera.jpg" alt="Capas de la atm√≥sfera" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-blue-100 p-8 rounded-2xl mb-6 border-4 border-blue-300">
                        <div class="text-center mb-8">
                            <p class="text-8xl font-bold text-blue-600">0-12 km</p>
                            <p class="text-3xl font-bold">La capa m√°s cercana al suelo</p>
                        </div>
                        
                        <img src="${IMG_PATH}troposfera.jpg" alt="Troposfera" class="w-full max-w-xl mx-auto mb-8 rounded-2xl">
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üè†</p>
                                <p class="text-xl font-bold">Aqu√≠ vivimos</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">‚òÅÔ∏è</p>
                                <p class="text-xl font-bold">Est√°n las nubes</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üåßÔ∏è</p>
                                <p class="text-xl font-bold">Llueve y nieva aqu√≠</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">‚ùÑÔ∏è</p>
                                <p class="text-xl font-bold">Hace m√°s fr√≠o arriba</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-100 p-8 rounded-2xl border-4 border-yellow-300">
                        <p class="text-2xl">‚úàÔ∏è Los aviones vuelan en el l√≠mite de la troposfera (unos 10-12 km de altura).</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øHasta qu√© altura llega la troposfera?",
                        options: [
                            { text: "5 km", correct: false },
                            { text: "12 km", correct: true },
                            { text: "50 km", correct: false },
                            { text: "100 km", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "En la troposfera ocurren los fen√≥menos meteorol√≥gicos como la lluvia",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "Cuando subimos una monta√±a, ¬øqu√© pasa con la temperatura?",
                        options: [
                            { text: "Aumenta", correct: false },
                            { text: "Disminuye", correct: true },
                            { text: "Se mantiene igual", correct: false },
                            { text: "Depende del d√≠a", correct: false }
                        ]
                    }
                ]
            },
            "3-3.2": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-purple-600">üõ°Ô∏è Estratosfera - La Capa Protectora</h3>
                    <img src="${IMG_PATH}capas-atmosfera.jpg" alt="Capas de la atm√≥sfera" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-purple-100 p-8 rounded-2xl mb-6 border-4 border-purple-300">
                        <div class="text-center mb-8">
                            <p class="text-8xl font-bold text-purple-600">12-50 km</p>
                            <p class="text-3xl font-bold">La segunda capa atmosf√©rica</p>
                        </div>
                        
                        <img src="${IMG_PATH}estratosfera-ozono.jpg" alt="Estratosfera y ozono" class="w-full max-w-xl mx-auto mb-8 rounded-2xl">
                        
                        <h4 class="text-2xl font-bold mb-6 text-purple-700">Caracter√≠sticas:</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üõ°Ô∏è</p>
                                <p class="text-xl font-bold mb-2">Capa de ozono</p>
                                <p class="text-lg">Protege de rayos UV</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üå°Ô∏è</p>
                                <p class="text-xl font-bold mb-2">Temperatura sube</p>
                                <p class="text-lg">Por el ozono</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üåµ</p>
                                <p class="text-xl font-bold mb-2">Muy seca</p>
                                <p class="text-lg">Casi no hay vapor de agua</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">‚úàÔ∏è</p>
                                <p class="text-xl font-bold mb-2">Vuelos estratosf√©ricos</p>
                                <p class="text-lg">Aviones supers√≥nicos</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-100 p-8 rounded-2xl border-4 border-green-300">
                        <h4 class="text-2xl font-bold mb-3">üåü La Capa de Ozono (O‚ÇÉ)</h4>
                        <p class="text-xl">Est√° entre los 20-30 km de altura. El ozono absorbe la radiaci√≥n ultravioleta del Sol, protegiendo la vida en la Tierra.</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øEntre qu√© alturas est√° la estratosfera?",
                        options: [
                            { text: "0-12 km", correct: false },
                            { text: "12-50 km", correct: true },
                            { text: "50-80 km", correct: false },
                            { text: "80-500 km", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "La estratosfera contiene la capa de ozono",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© hace la capa de ozono?",
                        options: [
                            { text: "Produce lluvia", correct: false },
                            { text: "Protege de rayos UV", correct: true },
                            { text: "Crea viento", correct: false },
                            { text: "Forma nubes", correct: false }
                        ]
                    }
                ]
            },
            "3-3.3": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-indigo-600">‚ùÑÔ∏è Mesosfera - La Capa Fr√≠a</h3>
                    <img src="${IMG_PATH}capas-atmosfera.jpg" alt="Capas de la atm√≥sfera" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-indigo-100 p-8 rounded-2xl mb-6 border-4 border-indigo-300">
                        <div class="text-center mb-8">
                            <p class="text-8xl font-bold text-indigo-600">50-80 km</p>
                            <p class="text-3xl font-bold">La tercera capa atmosf√©rica</p>
                        </div>
                        
                        <img src="${IMG_PATH}mesosfera-meteoro.jpg" alt="Mesosfera y meteoritos" class="w-full max-w-xl mx-auto mb-8 rounded-2xl">
                        
                        <h4 class="text-2xl font-bold mb-6 text-indigo-700">Caracter√≠sticas:</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">‚ùÑÔ∏è</p>
                                <p class="text-xl font-bold mb-2">La m√°s fr√≠a</p>
                                <p class="text-lg">Hasta -90¬∞C</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">‚òÑÔ∏è</p>
                                <p class="text-xl font-bold mb-2">Meteoritos se queman</p>
                                <p class="text-lg">Estrellas fugaces</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üå°Ô∏è</p>
                                <p class="text-xl font-bold mb-2">Temperatura baja</p>
                                <p class="text-lg">Al subir hace m√°s fr√≠o</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üéà</p>
                                <p class="text-xl font-bold mb-2">Dif√≠cil de estudiar</p>
                                <p class="text-lg">Poco conocida</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-100 p-8 rounded-2xl border-4 border-yellow-300">
                        <p class="text-2xl">‚≠ê <strong>Las estrellas fugaces</strong> son meteoritos que se desintegran al entrar en la mesosfera por la fricci√≥n con el aire.</p>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øCu√°l es la temperatura m√°s baja en la mesosfera?",
                        options: [
                            { text: "0¬∞C", correct: false },
                            { text: "-30¬∞C", correct: false },
                            { text: "-90¬∞C", correct: true },
                            { text: "100¬∞C", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "Los meteoritos se desintegran en la mesosfera",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© vemos cuando un meteorito se quema?",
                        options: [
                            { text: "Un rayo", correct: false },
                            { text: "Una estrella fugaz", correct: true },
                            { text: "La luna", correct: false },
                            { text: "Un cometa", correct: false }
                        ]
                    }
                ]
            },
            "3-3.4": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-pink-600">üåå Termosfera y Exosfera - El Espacio Exterior</h3>
                    <img src="${IMG_PATH}capas-atmosfera.jpg" alt="Capas de la atm√≥sfera" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-pink-100 p-8 rounded-2xl mb-6 border-4 border-pink-300">
                        <h4 class="text-3xl font-bold mb-6 text-pink-700">TERMOSFERA (80-500 km)</h4>
                        
                        <img src="${IMG_PATH}termosfera-aurora.jpg" alt="Auroras boreales" class="w-full max-w-xl mx-auto mb-8 rounded-2xl">
                        
                        <div class="grid md:grid-cols-2 gap-6 mb-8">
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üî•</p>
                                <p class="text-xl font-bold mb-2">Muy caliente</p>
                                <p class="text-lg">Hasta 1.500¬∞C</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üåà</p>
                                <p class="text-xl font-bold mb-2">Auroras boreales</p>
                                <p class="text-lg">Luces del norte</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üõ∞Ô∏è</p>
                                <p class="text-xl font-bold mb-2">Sat√©lites</p>
                                <p class="text-lg">Orbitan aqu√≠</p>
                            </div>
                            <div class="bg-white p-6 rounded-xl">
                                <p class="text-4xl mb-3">üöÄ</p>
                                <p class="text-xl font-bold mb-2">Estaci√≥n espacial</p>
                                <p class="text-lg">ISS orbita aqu√≠</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-purple-100 p-8 rounded-2xl mb-6 border-4 border-purple-300">
                        <h4 class="text-3xl font-bold mb-6 text-purple-700">EXOSFERA (500-10.000 km)</h4>
                        
                        <img src="${IMG_PATH}exosfera-satelite.jpg" alt="Sat√©lites en exosfera" class="w-full max-w-xl mx-auto mb-6 rounded-2xl">
                        
                        <div class="bg-white p-6 rounded-xl">
                            <p class="text-xl mb-4">Es la <strong>capa m√°s externa</strong> de la atm√≥sfera.</p>
                            <p class="text-xl mb-4">‚ö´ Casi no hay aire</p>
                            <p class="text-xl mb-4">üåå Transici√≥n al espacio exterior</p>
                            <p class="text-xl">üõ∞Ô∏è Sat√©lites de comunicaciones</p>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øD√≥nde se producen las auroras boreales?",
                        options: [
                            { text: "Troposfera", correct: false },
                            { text: "Estratosfera", correct: false },
                            { text: "Termosfera", correct: true },
                            { text: "Mesosfera", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "La termosfera es muy caliente (hasta 1.500¬∞C)",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øCu√°l es la capa m√°s externa de la atm√≥sfera?",
                        options: [
                            { text: "Troposfera", correct: false },
                            { text: "Estratosfera", correct: false },
                            { text: "Termosfera", correct: false },
                            { text: "Exosfera", correct: true }
                        ]
                    }
                ]
            },
            "4-4.1": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-green-600">üå°Ô∏è Efecto Invernadero</h3>
                    <img src="${IMG_PATH}efecto-invernadero.jpg" alt="Efecto invernadero" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-green-100 p-8 rounded-2xl mb-6 border-4 border-green-300">
                        <h4 class="text-2xl font-bold mb-6">¬øQu√© es el efecto invernadero?</h4>
                        <p class="text-xl mb-6">Es un proceso <strong>NATURAL</strong> que mantiene la Tierra a una temperatura adecuada para la vida.</p>
                        
                        <div class="bg-white p-8 rounded-xl mb-6">
                            <h5 class="text-2xl font-bold mb-4">¬øC√≥mo funciona?</h5>
                            <div class="space-y-4">
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">1Ô∏è‚É£</span>
                                    <p class="text-xl">El Sol env√≠a radiaci√≥n (luz y calor) a la Tierra</p>
                                </div>
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">2Ô∏è‚É£</span>
                                    <p class="text-xl">La Tierra absorbe parte y refleja otra parte</p>
                                </div>
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">3Ô∏è‚É£</span>
                                    <p class="text-xl">Los gases invernadero retienen el calor</p>
                                </div>
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">4Ô∏è‚É£</span>
                                    <p class="text-xl">La Tierra mantiene una temperatura estable (~15¬∞C)</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-blue-100 p-4 rounded-xl text-center">
                                <p class="text-xl font-bold">CO‚ÇÇ</p>
                                <p>Di√≥xido de carbono</p>
                            </div>
                            <div class="bg-blue-100 p-4 rounded-xl text-center">
                                <p class="text-xl font-bold">CH‚ÇÑ</p>
                                <p>Metano</p>
                            </div>
                            <div class="bg-blue-100 p-4 rounded-xl text-center">
                                <p class="text-xl font-bold">H‚ÇÇO</p>
                                <p>Vapor de agua</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-red-100 p-8 rounded-2xl border-4 border-red-300">
                        <p class="text-2xl">‚ö†Ô∏è <strong>Problema:</strong> El exceso de gases invernadero (por actividades humanas) est√° causando el <strong>calentamiento global</strong>.</p>
                    </div>
                `,
                questions: [
                    {
                        type: "true-false",
                        q: "El efecto invernadero es un proceso natural",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© temperatura media tendr√≠a la Tierra SIN efecto invernadero?",
                        options: [
                            { text: "15¬∞C", correct: false },
                            { text: "0¬∞C", correct: false },
                            { text: "-18¬∞C", correct: true },
                            { text: "30¬∞C", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "El CO‚ÇÇ es un gas de efecto invernadero",
                        correct: true
                    }
                ]
            },
            "4-4.2": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-blue-600">üõ°Ô∏è Capa de Ozono</h3>
                    <img src="${IMG_PATH}agujero-ozono.jpg" alt="Capa de ozono" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-blue-100 p-8 rounded-2xl mb-6 border-4 border-blue-300">
                        <h4 class="text-2xl font-bold mb-6">¬øQu√© es la capa de ozono?</h4>
                        <p class="text-xl mb-6">Es una zona de la <strong>estratosfera</strong> (20-30 km) rica en ozono (O‚ÇÉ) que protege la vida en la Tierra.</p>
                        
                        <div class="bg-white p-8 rounded-xl mb-6">
                            <h5 class="text-2xl font-bold mb-4 text-green-600">‚úÖ ¬øQu√© hace?</h5>
                            <div class="space-y-4">
                                <p class="text-xl">üõ°Ô∏è Absorbe los <strong>rayos ultravioleta (UV)</strong> del Sol</p>
                                <p class="text-xl">üë§ Protege nuestra piel de quemaduras y c√°ncer</p>
                                <p class="text-xl">üå± Protege a plantas y animales</p>
                                <p class="text-xl">üß¨ Evita da√±os en el ADN de los seres vivos</p>
                            </div>
                        </div>
                        
                        <div class="bg-red-50 p-8 rounded-xl border-4 border-red-300">
                            <h5 class="text-2xl font-bold mb-4 text-red-600">‚ùå El agujero de ozono</h5>
                            <p class="text-xl mb-4">En los a√±os 1980 se descubri√≥ un <strong>agujero en la capa de ozono</strong> sobre la Ant√°rtida.</p>
                            <p class="text-xl mb-4"><strong>Causa:</strong> Gases CFC (clorofluorocarbonos) de sprays y refrigeradores</p>
                            <p class="text-xl">‚úÖ <strong>Soluci√≥n:</strong> Se prohibieron los CFC (Protocolo de Montreal, 1987). La capa se est√° recuperando.</p>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øEn qu√© capa est√° el ozono?",
                        options: [
                            { text: "Troposfera", correct: false },
                            { text: "Estratosfera", correct: true },
                            { text: "Mesosfera", correct: false },
                            { text: "Termosfera", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "La capa de ozono protege de los rayos UV del Sol",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© gases da√±aban la capa de ozono?",
                        options: [
                            { text: "Ox√≠geno", correct: false },
                            { text: "CFC", correct: true },
                            { text: "Nitr√≥geno", correct: false },
                            { text: "Arg√≥n", correct: false }
                        ]
                    }
                ]
            },
            "4-4.3": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-orange-600">‚òÑÔ∏è Protecci√≥n contra Meteoritos</h3>
                    <img src="${IMG_PATH}proteccion-meteori.jpg" alt="Protecci√≥n de meteoritos" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-orange-100 p-8 rounded-2xl mb-6 border-4 border-orange-300">
                        <h4 class="text-2xl font-bold mb-6">La atm√≥sfera como escudo protector</h4>
                        
                        <div class="bg-white p-8 rounded-xl mb-6">
                            <h5 class="text-2xl font-bold mb-4">¬øQu√© son los meteoritos?</h5>
                            <p class="text-xl mb-4">Son <strong>rocas del espacio</strong> que entran en la atm√≥sfera terrestre a gran velocidad.</p>
                            
                            <div class="space-y-4 mt-6">
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">1Ô∏è‚É£</span>
                                    <p class="text-xl">El meteorito entra a la atm√≥sfera a <strong>miles de km/h</strong></p>
                                </div>
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">2Ô∏è‚É£</span>
                                    <p class="text-xl">La <strong>fricci√≥n con el aire</strong> lo calienta much√≠simo</p>
                                </div>
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">3Ô∏è‚É£</span>
                                    <p class="text-xl">El meteorito se <strong>desintegra</strong> (se quema) en la mesosfera</p>
                                </div>
                                <div class="flex items-start gap-4">
                                    <span class="text-4xl">4Ô∏è‚É£</span>
                                    <p class="text-xl">Vemos una <strong>estrella fugaz</strong> ‚≠ê</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-green-100 p-6 rounded-xl border-4 border-green-300">
                                <p class="text-3xl mb-3">‚úÖ</p>
                                <p class="text-xl font-bold mb-2">La mayor√≠a se desintegran</p>
                                <p class="text-lg">El 99% no llega al suelo</p>
                            </div>
                            <div class="bg-blue-100 p-6 rounded-xl border-4 border-blue-300">
                                <p class="text-3xl mb-3">‚òÑÔ∏è</p>
                                <p class="text-xl font-bold mb-2">Algunos llegan</p>
                                <p class="text-lg">Los m√°s grandes pueden impactar</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-100 p-8 rounded-2xl border-4 border-yellow-300">
                        <p class="text-2xl">üí° <strong>Sin atm√≥sfera</strong> (como en la Luna), todos los meteoritos llegar√≠an al suelo y crear√≠an cr√°teres.</p>
                    </div>
                `,
                questions: [
                    {
                        type: "true-false",
                        q: "La atm√≥sfera protege la Tierra de los meteoritos",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øEn qu√© capa se desintegran la mayor√≠a de meteoritos?",
                        options: [
                            { text: "Troposfera", correct: false },
                            { text: "Estratosfera", correct: false },
                            { text: "Mesosfera", correct: true },
                            { text: "Termosfera", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "Una estrella fugaz es un meteorito que se quema",
                        correct: true
                    }
                ]
            },
            "4-4.4": {
                theory: `
                    <h3 class="text-4xl font-bold mb-6 text-red-600">üè≠ Contaminaci√≥n Atmosf√©rica</h3>
                    <img src="${IMG_PATH}contaminacion-ciud.jpg" alt="Contaminaci√≥n en ciudad" class="w-full max-w-2xl mx-auto mb-8 rounded-2xl shadow-2xl">
                    
                    <div class="bg-red-100 p-8 rounded-2xl mb-6 border-4 border-red-300">
                        <h4 class="text-2xl font-bold mb-6">¬øQu√© es la contaminaci√≥n atmosf√©rica?</h4>
                        <p class="text-xl mb-6">Es la presencia en el aire de <strong>sustancias que alteran su calidad</strong> y son perjudiciales para la salud y el medio ambiente.</p>
                        
                        <div class="bg-white p-8 rounded-xl mb-6">
                            <h5 class="text-2xl font-bold mb-4 text-red-600">üè≠ Principales contaminantes:</h5>
                            <div class="space-y-4">
                                <div class="bg-gray-100 p-4 rounded-xl">
                                    <p class="text-xl font-bold mb-2">CO‚ÇÇ (Di√≥xido de carbono)</p>
                                    <p class="text-lg">De coches, f√°bricas, calefacciones ‚Üí Calentamiento global</p>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-xl">
                                    <p class="text-xl font-bold mb-2">CO (Mon√≥xido de carbono)</p>
                                    <p class="text-lg">De combustiones incompletas ‚Üí T√≥xico para las personas</p>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-xl">
                                    <p class="text-xl font-bold mb-2">SO‚ÇÇ (Di√≥xido de azufre)</p>
                                    <p class="text-lg">De quemar carb√≥n y petr√≥leo ‚Üí Lluvia √°cida</p>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-xl">
                                    <p class="text-xl font-bold mb-2">NO‚Çì (√ìxidos de nitr√≥geno)</p>
                                    <p class="text-lg">De motores de coches ‚Üí Smog y lluvia √°cida</p>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-xl">
                                    <p class="text-xl font-bold mb-2">Part√≠culas en suspensi√≥n</p>
                                    <p class="text-lg">Holl√≠n, polvo, humo ‚Üí Problemas respiratorios</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="bg-orange-100 p-6 rounded-xl border-4 border-orange-300">
                                <p class="text-3xl mb-3">üåßÔ∏è</p>
                                <p class="text-xl font-bold mb-2">Lluvia √°cida</p>
                                <p class="text-lg">Da√±a bosques y construcciones</p>
                            </div>
                            <div class="bg-yellow-100 p-6 rounded-xl border-4 border-yellow-300">
                                <p class="text-3xl mb-3">üå´Ô∏è</p>
                                <p class="text-xl font-bold mb-2">Smog</p>
                                <p class="text-lg">Niebla contaminante en ciudades</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-100 p-8 rounded-2xl border-4 border-green-300">
                        <h5 class="text-2xl font-bold mb-4 text-green-700">‚úÖ Soluciones:</h5>
                        <div class="grid md:grid-cols-2 gap-4 text-xl">
                            <p>‚ôªÔ∏è Usar energ√≠as renovables</p>
                            <p>üö≤ Transporte p√∫blico y bicicleta</p>
                            <p>üå≥ Plantar √°rboles</p>
                            <p>‚ö° Consumir menos energ√≠a</p>
                            <p>üè≠ Filtros en f√°bricas</p>
                            <p>üöó Coches el√©ctricos</p>
                        </div>
                    </div>
                `,
                questions: [
                    {
                        type: "multiple-choice",
                        q: "¬øQu√© gas aumenta el efecto invernadero?",
                        options: [
                            { text: "Ox√≠geno", correct: false },
                            { text: "CO‚ÇÇ", correct: true },
                            { text: "Nitr√≥geno", correct: false },
                            { text: "Arg√≥n", correct: false }
                        ]
                    },
                    {
                        type: "true-false",
                        q: "La lluvia √°cida da√±a los bosques y construcciones",
                        correct: true
                    },
                    {
                        type: "multiple-choice",
                        q: "¬øCu√°l es una soluci√≥n para reducir la contaminaci√≥n?",
                        options: [
                            { text: "Usar m√°s coches", correct: false },
                            { text: "Quemar m√°s carb√≥n", correct: false },
                            { text: "Usar energ√≠as renovables", correct: true },
                            { text: "Talar m√°s √°rboles", correct: false }
                        ]
                    }
                ]
            }
        };

        function selectBlock(blockId) {
            state.selectedBlock = blockId;
            state.currentView = 'levels';
            render();
        }

        function selectLevel(levelId) {
            state.selectedLevel = levelId;
            state.currentView = 'content';
            state.showResults = {};
            render();
        }

        function backToBlocks() {
            state.currentView = 'blocks';
            state.selectedBlock = null;
            state.selectedLevel = null;
            render();
        }

        function backToLevels() {
            state.currentView = 'levels';
            state.selectedLevel = null;
            render();
        }

        function checkMultipleChoice(questionIndex, optionIndex) {
            const key = `${state.selectedBlock}-${state.selectedLevel}`;
            const question = content[key].questions[questionIndex];
            const isCorrect = question.options[optionIndex].correct;
            
            state.showResults[questionIndex] = isCorrect;
            
            document.querySelectorAll(`[data-question="${questionIndex}"]`).forEach(el => {
                el.classList.remove('correct', 'incorrect');
            });
            
            const selectedCard = document.querySelector(`[data-question="${questionIndex}"][data-option="${optionIndex}"]`);
            
            setTimeout(() => {
                if (isCorrect) {
                    selectedCard.classList.add('correct');
                    // Marcar nivel como completado
                    if (!state.completedLevels[key]) {
                        state.completedLevels[key] = [];
                    }
                    if (!state.completedLevels[key].includes(questionIndex)) {
                        state.completedLevels[key].push(questionIndex);
                        localStorage.setItem('atmosfera-progress', JSON.stringify(state.completedLevels));
                    }
                } else {
                    selectedCard.classList.add('incorrect');
                }
            }, 300);
        }

        function checkTrueFalse(questionIndex, answer) {
            const key = `${state.selectedBlock}-${state.selectedLevel}`;
            const question = content[key].questions[questionIndex];
            const isCorrect = answer === question.correct;
            
            state.showResults[questionIndex] = isCorrect;
            
            document.querySelectorAll(`[data-tf="${questionIndex}"]`).forEach(el => {
                el.classList.remove('correct', 'incorrect');
            });
            
            const selectedCard = document.querySelector(`[data-tf="${questionIndex}"][data-value="${answer}"]`);
            
            setTimeout(() => {
                if (isCorrect) {
                    selectedCard.classList.add('correct');
                    // Marcar nivel como completado
                    if (!state.completedLevels[key]) {
                        state.completedLevels[key] = [];
                    }
                    if (!state.completedLevels[key].includes(questionIndex)) {
                        state.completedLevels[key].push(questionIndex);
                        localStorage.setItem('atmosfera-progress', JSON.stringify(state.completedLevels));
                    }
                } else {
                    selectedCard.classList.add('incorrect');
                }
            }, 300);
        }

        function render() {
            const app = document.getElementById('app');
            
            if (state.currentView === 'blocks') {
                app.innerHTML = `
                    <div class="max-w-7xl mx-auto p-6">
                        <div class="bg-gradient-to-r from-blue-600 to-cyan-600 rounded-3xl shadow-2xl p-12 mb-8 text-white">
                            <h1 class="text-6xl font-bold mb-4">üåç La Atm√≥sfera</h1>
                            <p class="text-3xl">1¬∫ ESO - Biolog√≠a y Geolog√≠a</p>
                        </div>
                        
                        <h2 class="text-4xl font-bold text-gray-800 mb-8">üìö Elige un Bloque para Empezar</h2>
                        <div class="grid md:grid-cols-2 gap-8">
                            ${Object.entries(blocks).map(([id, block]) => `
                                <div onclick="selectBlock('${id}')" 
                                     class="bg-gradient-to-br ${block.color} rounded-3xl shadow-2xl p-8 cursor-pointer transform transition hover:scale-105 text-white">
                                    <div class="text-8xl mb-6">${block.icon}</div>
                                    <h3 class="text-3xl font-bold mb-3">BLOQUE ${id}</h3>
                                    <p class="text-2xl">${block.title}</p>
                                    <div class="mt-6 text-xl opacity-90">
                                        üëâ ${Object.keys(block.levels).length} niveles
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (state.currentView === 'levels') {
                const block = blocks[state.selectedBlock];
                app.innerHTML = `
                    <div class="max-w-7xl mx-auto p-6">
                        <button onclick="backToBlocks()" 
                                class="mb-8 px-8 py-4 bg-white rounded-2xl shadow-lg hover:bg-gray-50 transition text-2xl font-bold">
                            ‚Üê Volver
                        </button>
                        
                        <div class="bg-gradient-to-r ${block.color} rounded-3xl shadow-2xl p-12 mb-8 text-white">
                            <div class="flex items-center gap-6">
                                <div class="text-9xl">${block.icon}</div>
                                <div>
                                    <h2 class="text-4xl font-bold">${block.title}</h2>
                                    <p class="text-2xl opacity-90 mt-3">Elige un nivel</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            ${Object.entries(block.levels).map(([levelId, levelName]) => {
                                const key = `${state.selectedBlock}-${levelId}`;
                                const isCompleted = state.completedLevels[key] && state.completedLevels[key].length > 0;
                                return `
                                    <div onclick="selectLevel('${levelId}')" 
                                         class="bg-white rounded-2xl shadow-xl p-8 cursor-pointer hover:shadow-2xl transition transform hover:scale-105">
                                        <div class="flex items-center justify-between mb-4">
                                            <span class="bg-blue-500 text-white px-6 py-2 rounded-full text-xl font-bold">
                                                Nivel ${levelId}
                                            </span>
                                            ${isCompleted ? '<span class="text-green-600 text-5xl">‚úì</span>' : ''}
                                        </div>
                                        <h3 class="text-2xl font-bold text-gray-800">${levelName}</h3>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            } else if (state.currentView === 'content') {
                const key = `${state.selectedBlock}-${state.selectedLevel}`;
                const levelContent = content[key];
                const block = blocks[state.selectedBlock];
                const levelName = block.levels[state.selectedLevel];
                
                if (!levelContent) {
                    app.innerHTML = `
                        <div class="max-w-4xl mx-auto p-6">
                            <button onclick="backToLevels()" class="mb-6 px-8 py-4 bg-white rounded-2xl shadow-lg text-2xl font-bold">
                                ‚Üê Volver
                            </button>
                            <div class="bg-yellow-100 border-4 border-yellow-400 rounded-3xl p-12 text-center">
                                <p class="text-3xl">‚ö†Ô∏è Contenido en desarrollo</p>
                            </div>
                        </div>
                    `;
                    return;
                }
                
                app.innerHTML = `
                    <div class="max-w-5xl mx-auto p-6">
                        <button onclick="backToLevels()" 
                                class="mb-8 px-8 py-4 bg-white rounded-2xl shadow-lg hover:bg-gray-50 transition text-2xl font-bold">
                            ‚Üê Volver a Niveles
                        </button>
                        
                        <div class="bg-white rounded-3xl shadow-2xl p-12 mb-8">
                            <div class="text-xl text-gray-500 mb-3">Bloque ${state.selectedBlock} - Nivel ${state.selectedLevel}</div>
                            <h2 class="text-4xl font-bold text-gray-800 mb-8">${levelName}</h2>
                            
                            <div class="prose max-w-none mb-12">
                                ${levelContent.theory}
                            </div>
                            
                            <hr class="my-12 border-4 border-gray-200 rounded">
                            
                            <h3 class="text-4xl font-bold text-indigo-900 mb-8">üéÆ ¬°Ahora practica!</h3>
                            <div class="space-y-12">
                                ${levelContent.questions.map((q, idx) => {
                                    if (q.type === 'multiple-choice') {
                                        return `
                                            <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl p-8 border-4 border-purple-200">
                                                <div class="text-3xl font-bold mb-6">Pregunta ${idx + 1}</div>
                                                <div class="text-2xl font-bold mb-8">${q.q}</div>
                                                ${q.image ? `<img src="${q.image}" alt="Imagen" class="w-full max-w-md mx-auto mb-8 rounded-2xl shadow-xl">` : ''}
                                                <div class="grid md:grid-cols-2 gap-6">
                                                    ${q.options.map((opt, optIdx) => `
                                                        <div class="option-card bg-white rounded-2xl p-8 border-4 border-gray-300 text-center"
                                                             data-question="${idx}" 
                                                             data-option="${optIdx}"
                                                             onclick="checkMultipleChoice(${idx}, ${optIdx})">
                                                            <p class="text-2xl font-bold">${opt.text}</p>
                                                        </div>
                                                    `).join('')}
                                                </div>
                                            </div>
                                        `;
                                    } else if (q.type === 'true-false') {
                                        return `
                                            <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-3xl p-8 border-4 border-blue-200">
                                                <div class="text-3xl font-bold mb-6">Pregunta ${idx + 1}</div>
                                                <div class="text-2xl font-bold mb-8">${q.q}</div>
                                                ${q.image ? `<img src="${q.image}" alt="Imagen" class="w-full max-w-md mx-auto mb-8 rounded-2xl shadow-xl">` : ''}
                                                <div class="grid grid-cols-2 gap-6">
                                                    <div class="option-card bg-green-100 rounded-2xl p-12 border-4 border-green-300 text-center"
                                                         data-tf="${idx}" 
                                                         data-value="true"
                                                         onclick="checkTrueFalse(${idx}, true)">
                                                        <p class="text-6xl mb-4">‚úÖ</p>
                                                        <p class="text-3xl font-bold">VERDADERO</p>
                                                    </div>
                                                    <div class="option-card bg-red-100 rounded-2xl p-12 border-4 border-red-300 text-center"
                                                         data-tf="${idx}" 
                                                         data-value="false"
                                                         onclick="checkTrueFalse(${idx}, false)">
                                                        <p class="text-6xl mb-4">‚ùå</p>
                                                        <p class="text-3xl font-bold">FALSO</p>
                                                    </div>
                                                </div>
                                            </div>
                                        `;
                                    }
                                }).join('')}
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // Inicializar
        render();
    </script>
</body>
</html>